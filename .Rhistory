top_agency_plot <- ggplot(top_agencies,aes(x=amount,y=Agency,size=avg_inv_per_supplier,color=avg_po_amt,frame=MonthYear))+
geom_point()+
#geom_text(aes(hjust="inward",label=paste("$",top_agencies$amount)))+
scale_x_log10(labels=dollar)+
ggtitle("DC Pubic Purchase Orders \n Agencies with >$100K/Mo. 2015 Spending") +
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position="right")+
labs(size="Avg. Purchases per Supplier", colour="Avg. PO Amount")
gg_animate(top_agency_plot)
install.packages('ImageMagick')
install.packages('installr')
install.packages('animation')
install.packages("animation")
library(ggplot2)
library(scales)
library(dplyr)
library(googleVis)
library(googleCharts)
library(RColorBrewer)
library(zoo)
library(lubridate)
library(gganimate)
top_agency_plot <- ggplot(top_agencies,aes(x=amount,y=Agency,size=avg_inv_per_supplier,color=avg_po_amt,frame=MonthYear))+
geom_point()+
#geom_text(aes(hjust="inward",label=paste("$",top_agencies$amount)))+
scale_x_log10(labels=dollar)+
ggtitle("DC Pubic Purchase Orders \n Agencies with >$100K/Mo. 2015 Spending") +
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position="right")+
labs(size="Avg. Purchases per Supplier", colour="Avg. PO Amount")
gg_animate(top_agency_plot)
install.packages("ImageMagick")
?gganimate
??gganimate
gg_animate(top_agency_plot,"output.gif")
# Next step (have monYear column) tidy up summarise() fx's for Shiny app
#
####
library(ggplot2)
library(scales)
library(dplyr)
library(googleVis)
library(googleCharts)
library(RColorBrewer)
library(zoo)
library(lubridate)
library(gganimate)
top_agency_plot <- ggplot(top_agencies,aes(x=amount,y=Agency,size=avg_inv_per_supplier,color=avg_po_amt,frame=MonthYear))+
geom_point()+
#geom_text(aes(hjust="inward",label=paste("$",top_agencies$amount)))+
scale_x_log10(labels=dollar)+
ggtitle("DC Pubic Purchase Orders \n Agencies with >$100K/Mo. 2015 Spending") +
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position="right")+
labs(size="Avg. Purchases per Supplier", colour="Avg. PO Amount")
top_agency_plot <- ggplot(top_agencies,aes(x=amount,y=Agency,size=avg_inv_per_supplier,color=avg_po_amt,frame=MonthYear))+
geom_point()+
#geom_text(aes(hjust="inward",label=paste("$",top_agencies$amount)))+
scale_x_log10(labels=dollar)+
ggtitle("DC Pubic Purchase Orders \n Agencies with >$100K/Mo. 2015 Spending") +
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position="right")+
labs(size="Avg. Purchases per Supplier", colour="Avg. PO Amount")
gg_animate(top_agency_plot,"output.gif")
library(animation)
gg_animate(top_agency_plot)
####
library(ggplot2)
library(scales)
library(dplyr)
library(googleVis)
library(googleCharts)
library(RColorBrewer)
library(zoo)
library(lubridate)
library(gganimate)
gg_animate(top_agency_plot)
top_agency_plot <- ggplot(top_agencies,aes(x=amount,y=Agency,size=avg_inv_per_supplier,color=avg_po_amt,frame=MonthYear))+
geom_point()+
#geom_text(aes(hjust="inward",label=paste("$",top_agencies$amount)))+
scale_x_log10(labels=dollar)+
ggtitle("DC Pubic Purchase Orders \n Agencies with >$100K/Mo. 2015 Spending") +
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position="top")+
labs(size="Avg. Purchases per Supplier", colour="Avg. PO Amount")
gg_animate(top_agency_plot)
top_agency_plot <- ggplot(top_agencies,aes(x=amount,y=Agency,size=avg_inv_per_supplier,color=avg_po_amt,frame=MonthYear))+
geom_point()+
#geom_text(aes(hjust="inward",label=paste("$",top_agencies$amount)))+
scale_x_log10(labels=dollar)+
ggtitle("DC Pubic Purchase Orders \n Agencies with >$100K/Mo. 2015 Spending") +
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position="left")+
labs(size="Avg. Purchases per Supplier", colour="Avg. PO Amount")
gg_animate(top_agency_plot)
top_agency_plot <- ggplot(top_agencies,aes(x=amount,y=Agency,size=avg_inv_per_supplier,color=avg_po_amt,frame=MonthYear))+
geom_point()+
#geom_text(aes(hjust="inward",label=paste("$",top_agencies$amount)))+
scale_x_log10(labels=dollar)+
ggtitle("DC Pubic Purchase Orders \n Agencies with >$100K/Mo. 2015 Spending") +
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position="none")+
labs(size="Avg. Purchases per Supplier", colour="Avg. PO Amount")
#gg_animate
gg_animate(top_agency_plot)
top_agency_plot <- ggplot(top_agencies,aes(x=amount,y=Agency,size=avg_inv_per_supplier,color=avg_po_amt,frame=MonthYear))+
geom_point()+
#geom_text(aes(hjust="inward",label=paste("$",top_agencies$amount)))+
scale_x_log10(labels=dollar)+
ggtitle("DC Pubic Purchase Orders \n Agencies with >$100K/Mo. \n in 2015 Spending") +
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position="none")+
labs(size="Avg. Purchases per Supplier", colour="Avg. PO Amount")
#gg_animate
gg_animate(top_agency_plot,"output.gif")
top_agency_plot <- ggplot(top_agencies,aes(x=amount,y=Agency,size=avg_inv_per_supplier,color=avg_po_amt,frame=MonthYear))+
geom_point()+
#geom_text(aes(hjust="inward",label=paste("$",top_agencies$amount)))+
scale_x_log10(labels=dollar)+
ggtitle("DC Pubic Purchase Orders \n Agencies with >$100K/Mo. \n in 2015 Spending") +
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position="none")+
labs(size="Avg. Purchases per Supplier", colour="Avg. PO Amount")
gg_animate(top_agency_plot,"output.gif")
gg_animate(top_agency_plot)
gg_animate(top_agency_plot,"output.gif")
View(dc_po_data)
top_agency_plot <- ggplot(top_agencies,aes(x=amount,y=Agency,size=avg_inv_per_supplier,color=avg_po_amt,frame=MonthYear))+
geom_point()+
#geom_text(aes(hjust="inward",label=paste("$",top_agencies$amount)))+
scale_x_log10(labels=dollar)+
ggtitle("DC Pubic Purchase Orders \n Agencies with >$100K/Mo. \n Spending") +
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position="none")+
labs(size="Avg. Purchases per Supplier", colour="Avg. PO Amount")
gg_animate(top_agency_plot,"output.gif")
top_agency_plot <- ggplot(top_agencies,aes(x=amount,y=Agency,size=avg_inv_per_supplier,color=avg_po_amt,frame=MonthYear))+
geom_point()+
#geom_text(aes(hjust="inward",label=paste("$",top_agencies$amount)))+
scale_x_log10(labels=dollar)+
ggtitle("DC Pubic Purchase Orders \n Agencies with >$100K/Mo. \n Spending Y-M:") +
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position="none")+
labs(size="Avg. Purchases per Supplier", colour="Avg. PO Amount")
gg_animate(top_agency_plot,"output.gif")
library(ggplot2)
library(scales)
library(dplyr)
library(googleVis)
library(googleCharts)
library(RColorBrewer)
library(zoo)
library(lubridate)
library(gganimate)
top_agency_plot <- ggplot(top_agencies,aes(x=amount,y=Agency,size=avg_inv_per_supplier,color=Agency,frame=MonthYear))+
geom_point()+
#geom_text(aes(hjust="inward",label=paste("$",top_agencies$amount)))+
scale_x_log10(labels=dollar)+
ggtitle("DC Public Purchase Orders \n Agencies with >$100K/Mo. \n Spending Y-M:") +
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position="none")+
labs(size="Avg. Purchases per Supplier", colour="Avg. PO Amount")
#gg_animate
gg_animate(top_agency_plot,"output.gif")
top_agency_plot <- ggplot(top_agencies,aes(x=amount,y=Agency,size=avg_inv_per_supplier,color=Agency,frame=MonthYear))+
geom_point()+
scale_color_brewer()+
#geom_text(aes(hjust="inward",label=paste("$",top_agencies$amount)))+
scale_x_log10(labels=dollar)+
ggtitle("DC Public Purchase Orders \n Agencies with >$100K/Mo. \n Spending Y-M:") +
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position="none")+
labs(size="Avg. Purchases per Supplier", colour="Avg. PO Amount")
gg_animate(top_agency_plot)#,"output.gif")
top_agency_plot <- ggplot(top_agencies,aes(x=amount,y=Agency,size=avg_inv_per_supplier,color=Agency,frame=MonthYear))+
geom_point()+
scale_color_gradient2()+
#geom_text(aes(hjust="inward",label=paste("$",top_agencies$amount)))+
scale_x_log10(labels=dollar)+
ggtitle("DC Public Purchase Orders \n Agencies with >$100K/Mo. \n Spending Y-M:") +
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position="none")+
labs(size="Avg. Purchases per Supplier", colour="Avg. PO Amount")
#gg_animate
gg_animate(top_agency_plot)#,"output.gif")
top_agency_plot <- ggplot(top_agencies,aes(x=amount,y=Agency,size=avg_inv_per_supplier,color=Agency,frame=MonthYear))+
geom_point()+
scale_color_discrete()+
#geom_text(aes(hjust="inward",label=paste("$",top_agencies$amount)))+
scale_x_log10(labels=dollar)+
ggtitle("DC Public Purchase Orders \n Agencies with >$100K/Mo. \n Spending Y-M:") +
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position="none")+
labs(size="Avg. Purchases per Supplier", colour="Avg. PO Amount")
gg_animate(top_agency_plot)#,"output.gif")
top_agency_plot <- ggplot(top_agencies,aes(x=amount,y=Agency,size=avg_inv_per_supplier,color=Agency,frame=MonthYear))+
geom_point()+
scale_color_continuous()+
#geom_text(aes(hjust="inward",label=paste("$",top_agencies$amount)))+
scale_x_log10(labels=dollar)+
ggtitle("DC Public Purchase Orders \n Agencies with >$100K/Mo. \n Spending Y-M:") +
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position="none")+
labs(size="Avg. Purchases per Supplier", colour="Avg. PO Amount")
gg_animate(top_agency_plot)#,"output.gif")
top_agency_plot <- ggplot(top_agencies,aes(x=amount,y=Agency,size=avg_inv_per_supplier,color=Agency,frame=MonthYear))+
geom_point()+
#scale_color_continuous()+
#geom_text(aes(hjust="inward",label=paste("$",top_agencies$amount)))+
scale_x_log10(labels=dollar)+
ggtitle("DC Public Purchase Orders \n Agencies with >$100K/Mo. \n Spending Y-M:") +
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position="none")+
labs(size="Avg. Purchases per Supplier", colour="Avg. PO Amount")
#gg_animate
gg_animate(top_agency_plot)#,"output.gif")
top_agencies <- arrange(filter(purchases_by_agency,amount>250000),desc(amount))
top_agency_plot <- ggplot(top_agencies,aes(x=amount,y=Agency,size=avg_inv_per_supplier,color=Agency,frame=MonthYear))+
geom_point()+
#scale_color_continuous()+
#geom_text(aes(hjust="inward",label=paste("$",top_agencies$amount)))+
scale_x_log10(labels=dollar)+
ggtitle("DC Public Purchase Orders \n Agencies with >$250K/Mo. \n Spending Y-M:") +
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position="none")+
labs(size="Avg. Purchases per Supplier", colour="Avg. PO Amount")
#gg_animate
gg_animate(top_agency_plot)#,"output.gif")
top_agency_plot <- ggplot(top_agencies,aes(x=amount,y=Agency,size=avg_inv_per_supplier,color=Agency,frame=MonthYear))+
geom_point()+
#scale_color_continuous()+
#geom_text(aes(hjust="inward",label=paste("$",top_agencies$amount)))+
scale_x_log10(labels=dollar)+
ggtitle("DC Public Purchase Orders \n Agencies with >$350K/Mo. \n Spending Y-M:") +
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position="right")+
labs(size="Avg. Purchases per Supplier", colour="Avg. PO Amount")
top_agencies <- arrange(filter(purchases_by_agency,amount>350000),desc(amount))
top_agency_plot <- ggplot(top_agencies,aes(x=amount,y=Agency,size=avg_inv_per_supplier,color=Agency,frame=MonthYear))+
geom_point()+
#scale_color_continuous()+
#geom_text(aes(hjust="inward",label=paste("$",top_agencies$amount)))+
scale_x_log10(labels=dollar)+
ggtitle("DC Public Purchase Orders \n Agencies with >$350K/Mo. \n Spending Y-M:") +
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position="right")+
labs(size="Avg. Purchases per Supplier", colour="Avg. PO Amount")
gg_animate(top_agency_plot)#,"output.gif")
top_agencies <- arrange(filter(purchases_by_agency,amount>1000000),desc(amount))
top_agency_plot <- ggplot(top_agencies,aes(x=amount,y=Agency,size=avg_inv_per_supplier,color=Agency,frame=MonthYear))+
geom_point()+
#scale_color_continuous()+
#geom_text(aes(hjust="inward",label=paste("$",top_agencies$amount)))+
scale_x_log10(labels=dollar)+
ggtitle("DC Public Purchase Orders \n Agencies with >$1M/Mo. \n Spending Y-M:") +
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position="right")+
labs(size="Avg. Purchases per Supplier", colour="Avg. PO Amount")
#gg_animate
gg_animate(top_agency_plot)#,"output.gif")
top_agency_plot <- ggplot(top_agencies,aes(x=amount,y=Agency,size=avg_inv_per_supplier,color=Agency,frame=MonthYear))+
geom_point()+
#scale_color_continuous()+
#geom_text(aes(hjust="inward",label=paste("$",top_agencies$amount)))+
scale_x_log10(labels=dollar)+
ggtitle("DC Public Purchase Orders \n Agencies with >$1M/Mo. \n Spending Y-M:") +
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position="none")+
labs(size="Avg. Purchases per Supplier", colour="Avg. PO Amount")
#gg_animate
gg_animate(top_agency_plot)#,"output.gif")
top_agency_plot <- ggplot(top_agencies,aes(x=amount,y=Agency,size=avg_inv_per_supplier,color=Agency,frame=MonthYear))+
geom_point()+
#scale_color_continuous()+
#geom_text(aes(hjust="inward",label=paste("$",top_agencies$amount)))+
scale_x_log10(labels=dollar)+
ggtitle("DC Public Purchase Orders \n Agencies with >$500K/Mo. \n Spending Y-M:") +
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position="none")+
labs(size="Avg. Purchases per Supplier", colour="Avg. PO Amount")
#gg_animate
gg_animate(top_agency_plot)
top_agencies <- arrange(filter(purchases_by_agency,amount>500000),desc(amount))
top_agency_plot <- ggplot(top_agencies,aes(x=amount,y=Agency,size=avg_inv_per_supplier,color=Agency,frame=MonthYear))+
geom_point()+
#scale_color_continuous()+
#geom_text(aes(hjust="inward",label=paste("$",top_agencies$amount)))+
scale_x_log10(labels=dollar)+
ggtitle("DC Public Purchase Orders \n Agencies with >$500K/Mo. \n Spending Y-M:") +
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position="none")+
labs(size="Avg. Purchases per Supplier", colour="Avg. PO Amount")
#gg_animate
gg_animate(top_agency_plot)
top_agencies <- arrange(filter(purchases_by_agency,amount>100000),desc(amount))
top_agency_plot <- ggplot(top_agencies,aes(x=amount,y=Agency,size=avg_inv_per_supplier,color=Agency,frame=MonthYear))+
geom_point()+
#scale_color_continuous()+
#geom_text(aes(hjust="inward",label=paste("$",top_agencies$amount)))+
scale_x_log10(labels=dollar)+
ggtitle("DC Public Purchase Orders \n Agencies with >$100K/Mo. \n Spending Y-M:") +
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position="none")+
labs(size="Avg. Purchases per Supplier", colour="Avg. PO Amount")
#gg_animate
gg_animate(top_agency_plot)
gg_animate(top_agency_plot,"output.gif")
commplot <- ggplot(purchases_by_type,aes(x=count_suppliers,y=amount,size=amount,color=average_po_amt))+
geom_point()+
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position=c(.78,.25))+
#coord_trans(x = "log10")+coord_trans(y="log10")+
scale_y_log10(labels=dollar)+scale_x_log10()+
theme(axis.text.x = element_text(angle=90,hjust=1))
plot(commplot)
#plot of purchases by agency
agencyplot <- ggplot(purchases_by_agency,aes(x=count,y=amount,size=amount,color=Agency))+
geom_point()+
theme(legend.position="none")+
coord_trans(x = "log10")+coord_trans(y="log10")+
scale_y_log10(labels=dollar)+scale_x_log10()+
theme(axis.text.x = element_text(angle=90,hjust=1))
plot(agencyplot)
agencyplot <- ggplot(purchases_by_agency,aes(x=count,y=amount,size=amount,color=Agency,frame=Agency))+
geom_point()+
ggtitle("DC Public Purchase Orders \n 10-2014 - 3-2015 \n Agency: ")+
theme(legend.position="none")+
coord_trans(x = "log10")+coord_trans(y="log10")+
scale_y_log10(labels=dollar)+scale_x_log10()+
theme(axis.text.x = element_text(angle=90,hjust=1))
plot(agencyplot)
agencyplot <- ggplot(purchases_by_agency,aes(x=count,y=amount,size=amount,color=Agency,frame=Agency))+
geom_point()+
ggtitle("DC Public Purchase Orders \n 10-2014 - 3-2015 \n Agency: ")+
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position="none")+
coord_trans(x = "log10")+coord_trans(y="log10")+
scale_y_log10(labels=dollar)+scale_x_log10()+
theme(axis.text.x = element_text(angle=90,hjust=1))
plot(agencyplot)
gg_animate(agencyplot)
gg_animate(agencyplot,"PO_animation2.gif")
View(purchases_by_agency)
agencyplot <- ggplot(purchases_by_agency,aes(x=count,y=amount,size=count_suppliers,color=amount,frame=Agency))+
geom_point()+
ggtitle("DC Public Purchase Orders \n 10-2014 - 3-2015 \n Agency: ")+
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position="none")+
coord_trans(x = "log10")+coord_trans(y="log10")+
scale_y_log10(labels=dollar)+scale_x_log10()+
xlab("Number of Transactions")
theme(axis.text.x = element_text(angle=90,hjust=1))
plot(agencyplot)
plot(agencyplot)
agencyplot <- ggplot(purchases_by_agency,aes(x=count,y=amount,size=count_suppliers,color=amount,frame=Agency))+
geom_point()+
ggtitle("DC Public Purchase Orders \n 10-2014 - 3-2015 \n Agency: ")+
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position=c(.78,.25))+
coord_trans(x = "log10")+coord_trans(y="log10")+
scale_y_log10(labels=dollar)+scale_x_log10()+
xlab("Number of Transactions")
theme(axis.text.x = element_text(angle=90,hjust=1))
plot(agencyplot)
#
agencyplot <- ggplot(purchases_by_agency,aes(x=count,y=amount,size=count_suppliers,color=amount,frame=Agency))+
geom_point()+
ggtitle("DC Public Purchase Orders \n 10-2014 - 3-2015 \n Agency: ")+
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position=c(.78,.35))+
coord_trans(x = "log10")+coord_trans(y="log10")+
scale_y_log10(labels=dollar)+scale_x_log10()+
xlab("Number of Transactions")
theme(axis.text.x = element_text(angle=90,hjust=1))
plot(agencyplot)
gg_animate(agencyplot,"PO_animation2.gif")
gg_animate(agencyplot,"PO_animation2.gif",interval=1.3)
fil_set <- filtered_set
library(ggplot2)
library(scales)
library(dplyr)
library(googleVis)
library(googleCharts)
library(RColorBrewer)
library(zoo)
library(lubridate)
library(gganimate)
by_agency <- group_by(dc_po_data,Agency,Supplier,MonthYear)
purchases_by_agency <- arrange(summarise(by_agency,
count_suppliers = n_distinct(Supplier),
count=n(),
amount=sum(Amount),
avg_po_amt=amount/count,
avg_inv_per_supplier=count/count_suppliers), desc(amount))
fil_set <- purchases_by_agency
ggplot(fil_set,aes(x=count,y=amount,size=count_suppliers,color=amount))+
geom_point()+
ggtitle("DC Public Purchase Orders \n 10-2014 - 3-2015 \n Agency: ")+
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position=c(.78,.35))+
coord_trans(x = "log10")+coord_trans(y="log10")+
scale_y_log10(labels=dollar)+scale_x_log10()+
xlab("Number of Transactions")
theme(axis.text.x = element_text(angle=90,hjust=1))
plot(agencyplot)
shiny::runApp()
runApp()
runApp()
View(fil_set)
fil_set <- filter(fil_set,Agency==input$datasetchoice)
runApp()
runApp()
ggplot(fil_set,aes(x=count,y=amount,size=count_suppliers,color=amount))+
geom_point()+
ggtitle("DC Public Purchase Orders \n 10-2014 - 3-2015 \n Agency: ")+
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position=c(.78,.35))+
coord_trans(x = "log10")+coord_trans(y="log10")+
scale_y_log10(labels=dollar)+scale_x_log10()+
xlab("Number of Transactions")
theme(axis.text.x = element_text(angle=90,hjust=1))
runApp()
ggplot(fil_set,aes(x=count,y=amount,color=amount))+
geom_point()+
ggtitle("DC Public Purchase Orders \n 10-2014 - 3-2015 \n Agency: ")+
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position=c(.78,.35))+
coord_trans(x = "log10")+coord_trans(y="log10")+
scale_y_log10(labels=dollar)+scale_x_log10()+
xlab("Number of Transactions")
theme(axis.text.x = element_text(angle=90,hjust=1))
runApp()
ggplot(purchases_by_agency,aes(x=count,y=amount,color=amount))+
geom_point()+
ggtitle("DC Public Purchase Orders \n 10-2014 - 3-2015 \n Agency: ")+
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position=c(.78,.35))+
coord_trans(x = "log10")+coord_trans(y="log10")+
scale_y_log10(labels=dollar)+scale_x_log10()+
xlab("Number of Transactions")
theme(axis.text.x = element_text(angle=90,hjust=1))
agencyplot <- ggplot(purchases_by_agency,aes(x=count,y=amount,size=count_suppliers,color=amount,frame=Agency))+
geom_point()+
ggtitle("DC Public Purchase Orders \n 10-2014 - 3-2015 \n Agency: ")+
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position=c(.78,.35))+
coord_trans(x = "log10")+coord_trans(y="log10")+
scale_y_log10(labels=dollar)+scale_x_log10()+
xlab("Number of Transactions")
theme(axis.text.x = element_text(angle=90,hjust=1))
plot(agencyplot)
by_agency <- group_by(dc_po_data,Agency)
purchases_by_agency <- arrange(summarise(by_agency,
count_suppliers = n_distinct(Supplier),
count=n(),
amount=sum(Amount),
avg_po_amt=amount/count,
avg_inv_per_supplier=count/count_suppliers), desc(amount))
#
agencyplot <- ggplot(purchases_by_agency,aes(x=count,y=amount,size=count_suppliers,color=amount,frame=Agency))+
geom_point()+
ggtitle("DC Public Purchase Orders \n 10-2014 - 3-2015 \n Agency: ")+
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position=c(.78,.35))+
coord_trans(x = "log10")+coord_trans(y="log10")+
scale_y_log10(labels=dollar)+scale_x_log10()+
xlab("Number of Transactions")
theme(axis.text.x = element_text(angle=90,hjust=1))
plot(agencyplot)
fil_set <- purchases_by_agency
ggplot(fil_set,aes(x=count,y=amount,color=amount))+
geom_point()+
ggtitle("DC Public Purchase Orders \n 10-2014 - 3-2015 \n Agency: ")+
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position=c(.78,.35))+
coord_trans(x = "log10")+coord_trans(y="log10")+
scale_y_log10(labels=dollar)+scale_x_log10()+
xlab("Number of Transactions")
theme(axis.text.x = element_text(angle=90,hjust=1))
ggplot(fil_set,aes(x=count,y=amount,color=amount,size=amount))+
geom_point()+
ggtitle("DC Public Purchase Orders \n 10-2014 - 3-2015 \n Agency: ")+
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position=c(.78,.35))+
coord_trans(x = "log10")+coord_trans(y="log10")+
scale_y_log10(labels=dollar)+scale_x_log10()+
xlab("Number of Transactions")
theme(axis.text.x = element_text(angle=90,hjust=1))
runApp()
ggplot(fil_set,aes(x=count,y=amount,color=amount,size=amount))+
geom_point()+
ggtitle("DC Public Purchase Orders \n 10-2014 - 3-2015 \n Agency: ")+
theme(plot.title = element_text(lineheight=.8, face="bold"),legend.position=c(.78,.35))+
coord_trans(x = "log10")+coord_trans(y="log10")+
scale_y_log10(labels=dollar)+scale_x_log10()+
xlab("Number of Transactions")
theme(axis.text.x = element_text(angle=90,hjust=1))
runApp()
plotOutput("plot", height = "600px")
runApp()
runApp()
filtered_set$Agency <- factor(filtered_set$Agency,levels=filtered_set$Agency[order(filtered_set$Amount)])
fil_set <- dc_po_data
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
new_fil_set <- fil_set
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
####
library(ggplot2)
library(scales)
library(dplyr)
library(RColorBrewer)
library(ggplot2)
library(scales)
library(dplyr)
library(RColorBrewer)
shiny::runApp()
runApp()
View(Agencies)
runApp()
runApp()
runApp()
library(zoo)
runApp()
library(lubridate)
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
runApp()
shiny::runApp()
runApp()
runApp()
runApp()
shiny::runApp()
runApp()
runApp()
